{"version":3,"sources":["Components/FactionChoice.js","Components/Footer.js","Components/Header.js","Components/Equipment.js","Components/Unit.js","Components/Main.js","App.js","serviceWorker.js","index.js"],"names":["Option","Select","FactionChoice","useContext","Context","factionData","currentFaction","factionList","factionSetter","style","minWidth","width","value","onChange","selection","clone","console","log","showSearch","map","faction","key","Bottom","styled","div","Summary","DetachmentType","Spacer","AddButton","interrogate","roleCounts","with","conditions","passes","forEach","condition","createRange","role","min","max","patrolConditions","spearheadConditions","outriderConditions","Footer","props","army","total","pointLimit","limiter","useLayoutEffect","setTimeout","dataToSave","localStorage","setItem","JSON","stringify","roleCount","reduce","acc","unit","model","HQ","T","E","FA","HS","DT","F","isPatrol","isSpearhead","isOutrider","detachmentType","totalStyle","color","detachmentStyle","onClick","addItem","Top","PageTitle","PointCap","setLimit","setter","useState","isOpen","setOpen","createListUnit","useCallback","armyUnit","margin","qty","name","weapons","length","weapon","changeCap","e","typedLimit","currentTarget","test","fontSize","marginRight","placeholder","placement","title","icon","EyeOutlined","shape","closable","onClose","visible","Strip","span","Equipment","equipment","selfDestruct","changeQuantity","className","points","size","type","CloseOutlined","UnitBox","Row","QuantityCap","CloseRow","roleDictionary","FO","LOW","DRON","Unit","initialData","dispatch","armyTotal","unitData","setData","currentEquip","setCurrent","units","useMemo","concat","updateUnit","newUnit","old","new","parseInt","useEffect","startingWeapon","startingWeaponPoints","firstModelPoints","genModData","field","val","changeCurrentEquip","split","pointsTxt","chosenEquip","genRemoveWeapon","equipClone","index","findIndex","wep","withoutIndex","filter","w","i","chosenModel","optionStyle","step","Math","floor","currentClone","id","DeleteOutlined","Main","setUnits","idCount","setIdCount","data","existingList","parse","getItem","init","push","unitToRemove","newList","newItem","React","createContext","All","reducer","action","removeUnit","toRemove","firstInstanceRemoved","isKept","weaponsOnRemoved","weaponsOnUnit","weaponOnRemoved","find","weaponOnUnit","App","useReducer","factions","setFactions","pointCap","setCap","fetch","then","v","json","factionKeys","Object","keys","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"iUAGOA,EAAUC,IAAVD,OAEQ,SAASE,IAAgB,IAAD,EAEgBC,qBAAWC,IAASC,YAAhEC,EAF4B,EAE5BA,eAAeC,EAFa,EAEbA,YAAYC,EAFC,EAEDA,cASlC,OACI,yBAAKC,MAAO,CAACC,SAAS,QAASC,MAAM,QACjC,kBAAC,IAAD,CAAQC,MAAON,EAAgBG,MAAO,CAACC,SAAS,QAASC,MAAM,QAASE,SAThF,SAAoBC,GAChB,IAAMC,EAAQ,CAACT,eAAeQ,EAAWP,YAAY,YAAIA,GAAcC,iBACvEO,EAAMT,eAAiBQ,EACvBE,QAAQC,IAAIF,GACZP,EAAcO,IAKoFG,YAAU,GACnGX,EAAYY,KAAI,SAACC,GACd,OAAQ,kBAACpB,EAAD,CAAQqB,IAAKD,EAASR,MAAOQ,GACpCA,Q,8gDCfrB,IAAME,EAASC,IAAOC,IAAV,KAqBNC,EAAUF,IAAOC,IAAV,KAYPE,EAAiBH,IAAOC,IAAV,KAQdG,EAASJ,IAAOC,IAAV,KAINI,EAAYL,IAAOC,IAAV,KA4Bf,SAASK,EAAYC,GACjB,MAAO,CACHC,KAAM,SAACC,GACH,IAAIC,GAAS,EAMb,OALAD,EAAWE,SAAQ,SAAAC,GACXA,EAAUL,KACVG,GAAS,MAGVA,IAKnB,SAASG,EAAYC,EAAKC,EAAIC,GAC1B,OAAO,SAACT,GACJ,OAAOA,EAAWO,IAASC,GAAOR,EAAWO,IAASE,GAI9D,IAAMC,EAAmB,CACrBJ,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,GACnBA,EAAY,IAAK,EAAE,GACnBA,EAAY,KAAM,EAAE,GACpBA,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,GACnBA,EAAY,MAAO,EAAE,IAGnBK,EAAsB,CACxBL,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,GACnBA,EAAY,IAAK,EAAE,GACnBA,EAAY,KAAM,EAAE,GACpBA,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,GACnBA,EAAY,MAAO,EAAE,IAGnBM,EAAqB,CACvBN,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,IACnBA,EAAY,IAAK,EAAE,GACnBA,EAAY,KAAM,EAAE,GACpBA,EAAY,KAAM,EAAE,GACpBA,EAAY,IAAK,EAAE,GACnBA,EAAY,MAAO,EAAE,IAIV,SAASO,EAAOC,GAAO,IAAD,IAEQzC,qBAAWC,IAA7CyC,EAF0B,EAE1BA,KAAKxC,EAFqB,EAErBA,YAAYyC,EAFS,EAETA,MACXC,EAHoB,EAEHC,QACvBpC,MAEPqC,2BAAgB,WACZC,YAAW,WACP,IACMC,EAAa,CAACN,KADT,YAAOA,GACczB,QAASf,EAAYC,eAAgByC,cACrEK,aAAaC,QAAQ,mBAAoBC,KAAKC,UAAUJ,MAC1D,KACJ,CAACN,EAAKxC,EAAY0C,IAEpB,IAAMS,EAAYX,EAAKY,QAAO,SAACC,EAAIC,GAC/B,IAAM5C,EAAK,eAAO2C,GAElB,OADA3C,EAAM4C,EAAKC,MAAMvB,OAAS,EACnBtB,KAHO,GAId8C,GAAG,EAAGC,EAAE,EAAEC,EAAE,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,EAAE,GAJjB,kBAIqB,GAJrB,oBAI2B,GAJ3B,qBAImC,GAJnC,IAMZC,EAAWvC,EAAY2B,GAAWzB,KAAKS,GACvC6B,EAAcxC,EAAY2B,GAAWzB,KAAKU,GAC1C6B,EAAazC,EAAY2B,GAAWzB,KAAKW,GAEzC6B,EAAiBH,EAAW,SACXC,EAAc,YACdC,EAAa,WACb,qBAGjBE,IADmBzB,GAAcD,EAAQC,EACX,CAAC0B,MAAM,OAAS,GAE9CC,EAAqC,uBAAnBH,EAA0C,CAACE,MAAM,OAAS,GAYnF,OACK,kBAACnD,EAAD,KACI,kBAACG,EAAD,KACI,yBAAKhB,MAAO+D,GAAZ,iBAAmC1B,EAAnC,QACA,kBAACpB,EAAD,CAAgBjB,MAAOiE,GAAkBH,IAE7C,kBAAC5C,EAAD,KAAQ,kBAAC,EAAD,OACR,kBAACC,EAAD,CAAW+C,QAAS,WAAK/B,EAAMgC,YAA/B,W,quBC7KZ,IAAMC,EAAMtD,IAAOC,IAAV,KAkBHsD,EAAYvD,IAAOC,IAAV,KAOTuD,EAAWxD,IAAOC,IAAV,KAOC,SAASmB,EAAOC,GAAQ,IAAD,EACXzC,qBAAWC,IAA5ByC,EAD4B,EAC5BA,KAAKG,EADuB,EACvBA,QACAD,EAA+BC,EAArCpC,MAAyBoE,EAAYhC,EAAnBiC,OAFW,EAGVC,oBAAS,GAHC,mBAG7BC,EAH6B,KAGrBC,EAHqB,KAYtBvC,EAAKY,QAAO,SAACC,EAAKC,GAC9B,OAAOD,EAAMC,EAAKb,QACjB,GAFH,IAIMuC,EAAiBC,uBAAY,SAACC,GAClC,OACE,yBAAK9E,MAAO,CAAC+E,OAAO,WAClB,4BACGD,EAASE,IADZ,IACkBF,EAAS3B,MAAM8B,MAEjC,4BAAKH,EAASI,QAAQC,OAAS,EAAI,UAAY,kBAC/C,4BACGL,EAASI,QAAQxE,KAAI,SAAC0E,GACrB,OAAO,4BAAKA,EAAOH,cAOvBI,EAAYR,uBAAY,SAACS,GAC7B,IAAMC,EAAaD,EAAEE,cAAcrF,MAGb,YACDsF,KAGJF,IACfhB,EAASgB,KAGX,CAAChB,IAEH,OACE,kBAACH,EAAD,KACE,kBAACC,EAAD,mBACA,0BAAMrE,MAAO,CAAC0F,SAAS,OAAQC,YAAY,WAA3C,iBACA,kBAACrB,EAAD,KACE,kBAAC,IAAD,CAAOsB,YAAY,cAAczF,MAAOmC,EAAYlC,SAAUiF,KAEhE,kBAAC,IAAD,CAASQ,UAAU,SAASC,MAAM,aAChC,kBAAC,IAAD,CAAQC,KAAM,kBAACC,EAAA,EAAD,MAAiBC,MAAM,SAAS/B,QAjDpD,WACES,GAAQ,OAkDN,kBAAC,IAAD,CACEmB,MAAM,YACND,UAAU,OACVK,SAAS,OACTC,QApDN,WACExB,GAAQ,IAoDJyB,QAAS1B,EACTxE,MAAM,OACNU,IAAK,QAEJwB,EAAK1B,KAAI,SAACwC,GACT,OAAO0B,EAAe1B,Q,6RCnGhC,IAAMmD,EAAQvF,IAAOwF,KAAV,KAWI,SAASC,EAAUpE,GAAO,IAE9BqE,EAAyCrE,EAAzCqE,UAAUC,EAA+BtE,EAA/BsE,aAAaC,EAAkBvE,EAAlBuE,eAE9B,OACI,kBAACL,EAAD,CAAOM,UAAU,SACb,kBAAC,IAAD,CAAaxG,MAAOqG,EAAUxB,IAAKnD,IAAK,EAAGzB,SAAUsG,IADzD,UAEQF,EAAUvB,KAFlB,cAE4BuB,EAAUI,QAClC,kBAAC,IAAD,CAAQD,UAAU,cAAcE,KAAK,QAAQZ,MAAM,SAASa,KAAK,SAASf,KAAM,kBAACgB,EAAA,EAAD,MAAkB7C,QAASuC,K,k/BCnBhHlH,GAAUC,IAAVD,OAEDyH,GAAUlG,IAAOC,IAAV,KAmBPkG,GAAMnG,IAAOwF,KAAV,KASHY,GAAcpG,IAAOwF,KAAV,KAOXa,GAAWrG,IAAOwF,KAAV,KASRc,GAAiB,CACnBhE,GAAG,KACHC,EAAE,QACFC,EAAG,QACHC,GAAG,WACHC,GAAG,YACHE,EAAE,QACF2D,GAAI,QACJC,IAAK,QACLC,KAAM,SAIK,SAASC,GAAKrF,GAAO,IACzBsE,EAAyCtE,EAAzCsE,aAAa7G,EAA4BuC,EAA5BvC,YAAa6H,EAAetF,EAAfsF,YADF,EAGa/H,qBAAWC,IAAhD+H,EAHwB,EAGxBA,SAAeC,EAHS,EAGftF,MACHC,EAJkB,EAGEC,QAC1BpC,MAJwB,EAMHsE,mBAAS,CAACO,IAAI,EAAG7B,MAAM,CAAC8B,KAAK,GAAGrD,KAAK,GAAGgF,OAAO,GAAI1B,QAAQ,GAAG7C,MAAM,IANjE,mBAMxBuF,EANwB,KAMdC,EANc,OAOGpD,mBAAS,CAACQ,KAAK,GAAI2B,OAAO,IAP7B,mBAOxBkB,EAPwB,KAOXC,EAPW,KAUzBC,EAAQC,mBAAQ,kBAAIrI,EAAW,MAAUsI,OAAOtI,EAAY,gBAAkB,MAAI,CAACA,IACnF4G,EAAYyB,mBAAQ,kBAAIrI,EAAY,kBAAkBsI,OAAOtI,EAAY,kBAAkBsI,OAAOtI,EAAY,oBAAkB,CAACA,IAMvI,SAASuI,EAAWC,GAChBV,EAAS,CAACZ,KAAK,SAASuB,IAAIT,EAASU,IAAIF,IACzCP,EAAQO,GAGZ,IAAM/F,GATgBuF,EAAS1C,QAAQlC,QAAO,SAACC,EAAImC,GAC/C,OAAOnC,EAAMsF,SAASnD,EAAOwB,QAAQxB,EAAOJ,MAC9C,GAO4B4C,EAASzE,MAAMyD,QAAQgB,EAAS5C,IAE9DwD,qBAAU,WACN,IAAMlI,EAAK,eAAOsH,GAClBtH,EAAM+B,MAAQA,EACd8F,EAAW7H,KACb,CAAC+B,IAGHmG,qBAAU,WACN,GAAGf,EAAY,CACXU,EAAWV,GACX,IAAMgB,EAAiBhB,EAAYvC,QAAQ,GAAKuC,EAAYvC,QAAQ,GAAGD,KAAOuB,EAAU,GAAGvB,KACrFyD,EAAuBjB,EAAYvC,QAAQ,GAAKuC,EAAYvC,QAAQ,GAAGD,KAAOuB,EAAU,GAAGvB,KACjG8C,EAAW,CAAC9C,KAAKwD,EAAe7B,OAAO8B,QACtC,CACD,IAAMC,EAAmBJ,SAASP,EAAM,GAAGpB,QAC3CuB,EAAW,CAACnD,IAAI,EAAG7B,MAAM,CAAC8B,KAAK+C,EAAM,GAAG/C,KAAK2B,OAAO+B,EAAkB/G,KAAKoG,EAAM,GAAGpG,MAAOsD,QAAQ,GAAG7C,MAAMsG,IAC5GZ,EAAW,CAAC9C,KAAKuB,EAAU,GAAGvB,KAAK2B,OAAOJ,EAAU,GAAGI,YAE7D,CAAChH,IAIH,IAAMgJ,EAAa,SAACC,GAChB,OAAO,SAACC,GACJ,IAAMxI,EAAK,eAAOsH,GAClBtH,EAAMuI,GAASC,EACfX,EAAW7H,KAWbyI,EAAqBlE,uBAAY,SAAC1B,GAAS,IAAD,EACnBA,EAAM6F,MAAM,MADO,mBACrC/D,EADqC,KAChCgE,EADgC,KAEtCC,EAAc,CAACjE,OAAK2B,OAAO2B,SAASU,IAC1ClB,EAAWmB,KACb,IAqBIC,EAAkB,SAAClE,GACrB,OAAO,WACH,IAAM3E,EAAK,eAAOsH,GACZwB,EAAU,YAAO9I,EAAM4E,SACvBmE,EAAQD,EAAWE,WAAU,SAACC,GAAD,OAAOA,EAAItE,OAASA,KAEjDuE,EAAeJ,EAAWK,QAAO,SAACC,EAAEC,GACtC,OAAOA,GAAKN,KAGhB/I,EAAM4E,QAAUsE,EAChBrB,EAAW7H,KAoBnB,OACI,yBAAKqG,UAAU,YACf,kBAACK,GAAD,KACG,kBAACG,GAAD,KACI,kBAAC,IAAD,CAAQhH,MAAOyH,EAASzE,MAAM8B,KAAMjF,MAAO,CAACE,MAAM,OAAQE,SAlEjD,SAAC+C,GAAS,IAAD,EACKA,EAAM6F,MAAM,MADjB,mBAClB/D,EADkB,KACbgE,EADa,KACHrH,EADG,KAEnBgI,EAAc,CAAC3E,OAAK2B,OAAO2B,SAASU,GAAWrH,QACrDgH,EAAW,QAAXA,CAAoBgB,IA+DoEnJ,YAAU,GACtFuH,EAAMtH,KAAI,SAACwC,GAER,IACM2G,IADqBlC,GAAaA,EAAYY,SAASrF,EAAK0D,QAAUtE,EACrC,CAAC0B,MAAM,OAAS,GAEvD,OAAQ,kBAAC,GAAD,CAAQpD,IAAKsC,EAAK+B,KAAMjF,MAAO6J,EAAa1J,MAAK,UAAK+C,EAAK+B,KAAV,aAAmB/B,EAAK0D,OAAxB,aAAmC1D,EAAKtB,OAAzF,WACFsB,EAAKtB,KADH,aACYsB,EAAK+B,KADjB,cAC2B/B,EAAK0D,aAIhD,kBAAC,IAAD,CAAczG,MAAOyH,EAAS5C,IAAKnD,IAAK,EAAGiI,KAAM,EAAG1J,SAAUwI,EAAW,WACtEtG,GAAc,kBAAC4E,GAAD,CAAaP,UAAU,eAAvB,eAA+CoD,KAAKC,OAAO1H,EAAaqF,GAAWtF,MAExG,kBAAC8E,GAAD,KACI,kBAAC,IAAD,CAAQhH,MAAO2H,EAAa7C,KAAMjF,MAAO,CAACE,MAAM,OAAQE,SAAU2I,EAAoBtI,YAAU,GAC3F+F,EAAU9F,KAAI,SAAC4E,GAEZ,IACMuE,IADqBlC,GAAaA,EAAYY,SAASjD,EAAEsB,QAAUtE,EAClC,CAAC0B,MAAM,OAAS,GAEvD,OAAQ,kBAAC,GAAD,CAAQhE,MAAO6J,EAAajJ,IAAK0E,EAAEL,KAAM9E,MAAK,UAAKmF,EAAEL,KAAP,aAAgBK,EAAEsB,SAAhE,UACHtB,EAAEL,KADC,cACSK,EAAEsB,aAI3B,kBAAC,IAAD,CAAQE,KAAK,UAAU5C,QAhFN,WACzB,IAAM5D,EAAK,eAAOsH,GACZwB,EAAU,YAAO9I,EAAM4E,SACvBmE,EAAQ/I,EAAM4E,QAAQoE,WAAU,SAACC,GAAD,OAAOA,EAAItE,OAAS6C,EAAa7C,QAEvE,IAAa,GAAVoE,EAECD,EAAWC,GAAOrE,IAAMoE,EAAWC,GAAOrE,IAAM,EAChD1E,EAAM4E,QAAUkE,MACf,CAED,IAAMa,EAAY,2BAAOnC,GAAP,IAAqB9C,IAAI,IAC3C1E,EAAM4E,QAAUkE,EAAWlB,OAAO,CAAC+B,IAGvC9B,EAAW7H,KAiEH,QAEHsH,EAAS1C,QAAQxE,KAAI,SAAC0E,GACnB,OAAO,kBAACmB,EAAD,CAAW2D,GAAI9E,EAAOH,KAAMuB,UAAWpB,EAAQsB,gBAjDxCzB,EAiDwEG,EAAOH,KAhD7F,SAACD,GACJ,IAAM1E,EAAK,eAAOsH,GACZwB,EAAU,YAAO9I,EAAM4E,SAEvBmE,EAAQD,EAAWE,WAAU,SAACC,GAAO,OAAOA,EAAItE,OAASA,MAElD,GAAVoE,IACCD,EAAWC,GAAOrE,IAAMA,EACxB1E,EAAM4E,QAAUkE,EAChBjB,EAAW7H,MAuCwFmG,aAAc0C,EAAgB/D,EAAOH,QAjDpJ,IAAyBA,KAmDlB,kBAACgC,GAAD,eACS5E,EADT,iBACuB+E,GAAeQ,EAASzE,MAAMvB,OAChD,kBAAC,IAAD,CAAQ+E,UAAU,cAAcV,MAAM,SAASa,KAAK,SAASf,KAAM,kBAACoE,EAAA,EAAD,MAAmBtD,KAAK,QAAQ3C,QAAS,WAAKuC,EAAamB,S,siBC/M9I,IAAMxD,GAAMtD,IAAOC,IAAV,MAmBSD,IAAOC,IAAV,MAMA,SAASqJ,KAAO,IAAD,EAED3F,mBAAS,IAFR,mBAEnBuD,EAFmB,KAEbqC,EAFa,OAGG5F,mBAAS,GAHZ,mBAGnB6F,EAHmB,KAGXC,EAHW,OAIU7K,qBAAWC,IAAxC6K,EAJmB,EAInBA,KAAK5K,EAJc,EAIdA,YAAY8H,EAJE,EAIFA,SAQxBlF,2BAAgB,WACZ,IAAMiI,EAAe5H,KAAK6H,MAAM/H,aAAagI,QAAQ,qBACrD,GAAGF,EAAarI,KAAK,CACjB,IAAMwI,EAAO,GACbH,EAAarI,KAAKX,SAAQ,SAACyB,EAAKyG,GAC5BiB,EAAKC,KAAK,CAACX,GAAGP,EAAGlC,YAAYvE,OAEjCmH,EAASO,GACTL,EAAWE,EAAarI,KAAK+C,OAAO,MAE1C,IAGF,IAWMtF,EAAiBD,EAAYC,gBAAkBD,EAAYE,YAAY,GAE7E,OACI,oCACI,kBAAC,EAAD,MACA,kBAAC,GAAD,KACK0K,GAAQA,EAAK3K,IAAmBmI,EAAMtH,KAAI,SAACwC,GAExC,OADA3C,QAAQC,IAAI0C,EAAKgH,IACV,kBAAC1C,GAAD,CAAM5G,IAAKsC,EAAKgH,GAAIzC,YAAavE,EAAKuE,YAAahB,cAnBlDyD,EAmB+EhH,EAAKgH,GAlBjG,SAACY,GACJ,IAAMC,EAAU/C,EAAMyB,QAAO,SAAAvG,GAAI,OAAEA,EAAKgH,KAAOA,KAC/CG,EAASU,GACTrD,EAAS,CAACZ,KAAK,SAAUuB,IAAIyC,MAe4ElL,YAAa4K,EAAK3K,KAnB5G,IAACqK,MAsBhB,kBAAChI,EAAD,CAAQiC,QAzCA,SAACjB,GACbqH,EAAWD,EAAQ,GACnB,IAAMU,EAAU,CAACd,GAAGI,EAAQ7C,YAAYvE,GACxCmH,EAAS,GAAD,mBAAKrC,GAAL,CAAYgD,S,kMCxC5B,IAAMrL,GAAUsL,IAAMC,gBAEhBC,GAAMrK,IAAOC,IAAV,MAQHqK,GAAU,SAAShJ,EAAKiJ,GAE5B,SAASC,EAAWC,GAClB,IAAIC,GAAuB,EAC3B,OAAOpJ,EAAKqH,QAAO,SAACvG,GAClB,GAAGsI,EAAsB,OAAO,EAChC,IAAIC,GAAS,EACb,GAAGvI,EAAK8B,MAAQuG,EAASvG,KAAOuG,EAASpI,MAAM8B,OAAS/B,EAAKC,MAAM8B,KAAK,CACtE,IAAMyG,EAAmBH,EAASrG,QAC5ByG,EAAgBzI,EAAKgC,QAC3B,GAAGwG,EAAiBvG,QAAUwG,EAAcxG,OAKhB,IAJNuG,EAAiBjC,QAAO,SAAAmC,GAC1C,OAAQD,EAAcE,MAAK,SAAAC,GAAY,OAAEA,EAAa7G,OAAS2G,EAAgB3G,WAGlEE,SACbsG,GAAS,GAMf,OADIA,IAAQD,GAAuB,GAC5BC,KAKX,IAAMF,EAAWF,EAAOhD,IACxB,OAAOgD,EAAOvE,MACZ,IAAK,SACH,OAAOwE,EAAWC,GAAUrD,OAAOmD,EAAO/C,KAE5C,IAAK,SAEH,OAAOgD,EAAWC,GAGtB,MAAO,SAmCMQ,OAhCf,WAAgB,IAAD,EAEUtH,mBAAS,IAFnB,mBAEN+F,EAFM,KAED3C,EAFC,OAGWmE,qBAAWZ,GAAQ,IAH9B,mBAGNhJ,EAHM,KAGDsF,EAHC,OAIkBjD,mBAAS,CAAC5E,eAAgB,GAAIC,YAAY,KAJ5D,mBAINmM,EAJM,KAIGC,EAJH,OAKczH,mBAAS,MALvB,mBAKN0H,EALM,KAKIC,EALJ,KAOb5D,qBAAU,WACR,IAAMiC,EAAe5H,KAAK6H,MAAM/H,aAAagI,QAAQ,qBACrD0B,MAAM,0EAA0EC,MAAK,SAAAC,GAAC,OAAEA,EAAEC,UAAQF,MAAK,SAAA9B,GACrG3C,EAAQ2C,GACR,IAAMiC,EAAcC,OAAOC,KAAKnC,GAChC0B,EAAY,CAACrM,eAAe4K,EAAa9J,SAAW8L,EAAY,GAAI3M,YAAY2M,EAAa1M,cAAcmM,IAC3GE,EAAO3B,EAAanI,iBAEtB,IAEF,IAAMD,EAAQD,EAAKY,QAAO,SAACC,EAAIC,GAC3B,OAAOD,EAAMC,EAAKb,QACpB,GAEF,OACE,oCACE,kBAAC1C,GAAQiN,SAAT,CAAkBzM,MAAO,CAACqK,OAAK5K,YAAYqM,EAAS7J,OAAKG,QAAQ,CAACpC,MAAMgM,EAAU3H,OAAO4H,GAAQ/J,QAAMqF,aACrG,kBAACyD,GAAD,KACE,kBAACf,GAAD,UCrEUyC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBnB,MAAK,SAAAoB,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLtN,QAAQsN,MAAMA,EAAMC,c","file":"static/js/main.0bb5c755.chunk.js","sourcesContent":["import React,{useState,useContext} from 'react';\nimport {Context} from \"../App\";\nimport {Select} from \"antd\";\nconst {Option} = Select;\n\nexport default function FactionChoice(){\n\n    const {currentFaction,factionList,factionSetter} = useContext(Context).factionData;\n\n    function setFaction(selection){\n        const clone = {currentFaction:selection, factionList:[...factionList], factionSetter};\n        clone.currentFaction = selection;\n        console.log(clone);\n        factionSetter(clone);\n    }\n\n    return(\n        <div style={{minWidth:\"10rem\", width:\"20%\"}}>\n            <Select value={currentFaction} style={{minWidth:\"10rem\", width:\"100%\"}} onChange={setFaction} showSearch>\n                {factionList.map((faction)=>{\n                    return (<Option key={faction} value={faction}>\n                    {faction}\n                    </Option>)\n                })}\n            </Select>\n        </div>\n    )\n\n}","import React, { useLayoutEffect } from 'react';\nimport {useContext} from 'react';\nimport styled from \"styled-components\";\nimport {Context} from \"../App\";\nimport FactionChooser from './FactionChoice'\n\nconst Bottom = styled.div`\n\n    grid-row: 3/span 1;\n\n    width:100%;\n    height: 5rem;\n    display:flex;\n    justify-content:space-between;\n    align-items: center;\n    border-top: 1px solid grey ;\n    padding: 0 2.5rem;\n    font-size: 2.5rem;\n    font-weight:bold;\n\n    @media (max-width: 950px){\n        justify-content:flex-start;\n        font-size: 1rem;\n    }\n\n` \n\nconst Summary = styled.div`\n    display:flex;\n    flex-direction:column;\n    align-items:flex-start;\n    justify-content:center;\n    font-size: 1.5rem;\n\n    @media (max-width: 950px){\n        font-size: 1rem;\n    }\n`;\n\nconst DetachmentType = styled.div`\n    font-size: 1rem;\n\n    @media (max-width: 950px){\n        font-size: 1rem;\n    }\n`;\n\nconst Spacer = styled.div`\n    margin-left:1rem;\n`\n\nconst AddButton = styled.div`\n    width: 50vw;\n    background-color: #1890ff;\n    margin: -2.5rem;\n    padding-left: 2.5rem;\n    height:5rem;\n    display:flex;\n    align-items:center;\n    cursor: pointer;\n    transition: padding-left 0.2s ease-out;\n\n    &:hover{\n        padding-left: 2.8rem;\n    }\n\n    @media (max-width: 950px){\n        position:absolute;\n        right:0;\n        padding-left: 0rem;\n        margin: 0rem;\n        width: 20vw;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n    }\n\n`\n\nfunction interrogate(roleCounts){\n    return {\n        with: (conditions)=>{\n            let passes = true;\n            conditions.forEach(condition => {\n                if(!condition(roleCounts)){\n                    passes = false;\n                }\n            });\n            return passes;\n        }\n    }\n}\n\nfunction createRange(role,min,max){\n    return (roleCounts)=>{\n        return roleCounts[role] >= min && roleCounts[role] <= max;\n    }\n}\n\nconst patrolConditions = [\n    createRange(\"HQ\", 1,2),\n    createRange(\"T\", 1,3),\n    createRange(\"E\", 0,2),\n    createRange(\"FA\", 0,2),\n    createRange(\"HS\", 0,2),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\nconst spearheadConditions = [\n    createRange(\"HQ\", 2,3),\n    createRange(\"T\", 3,6),\n    createRange(\"E\", 0,6),\n    createRange(\"FA\", 0,3),\n    createRange(\"HS\", 0,3),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\nconst outriderConditions = [\n    createRange(\"HQ\", 3,5),\n    createRange(\"T\", 6,12),\n    createRange(\"E\", 3,8),\n    createRange(\"FA\", 3,5),\n    createRange(\"HS\", 3,5),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\n\nexport default function Footer(props){\n  \n    const {army,factionData,total,limiter} = useContext(Context);\n    const {value:pointLimit} = limiter\n\n    useLayoutEffect(()=>{\n        setTimeout(()=>{\n            const clone = [...army];\n            const dataToSave = {army:clone, faction: factionData.currentFaction, pointLimit};\n            localStorage.setItem(\"ENLIST_ARMY_LIST\", JSON.stringify(dataToSave));\n        },0);\n    },[army,factionData,pointLimit])\n\n    const roleCount = army.reduce((acc,unit)=>{\n        const clone = {...acc};\n        clone[unit.model.role] += 1;\n        return clone;\n    }, {HQ:0, T:0,E:0,FA:0,HS:0,DT:0,F:0,F:0,LOW:0, DRON:0}) \n\n    const isPatrol = interrogate(roleCount).with(patrolConditions);\n    const isSpearhead = interrogate(roleCount).with(spearheadConditions);\n    const isOutrider = interrogate(roleCount).with(outriderConditions);\n\n    const detachmentType = isPatrol ? \"Patrol\":\n                           isSpearhead ? \"Spearhead\":\n                           isOutrider ? \"Outrider\":\n                           \"Invalid Detachment\";\n\n    const isOverTheLimit = !!pointLimit && total > pointLimit;\n    const totalStyle = isOverTheLimit ? {color:\"red\"} : {};\n\n    const detachmentStyle = detachmentType === \"Invalid Detachment\" ? {color:\"red\"} : {};\n\n    /*HQ\n    * T - Troop\n    * E - Elite\n    * FA - Fast Attack\n    * HS - Heavy Support\n    * F - Flyer\n    * FO - Fortification\n    * DT - Dedicated transport\n    */\n\n   return (\n        <Bottom>\n            <Summary>\n                <div style={totalStyle}>{`Total: ${total}pts`}</div>\n                <DetachmentType style={detachmentStyle}>{detachmentType}</DetachmentType>\n            </Summary>\n            <Spacer><FactionChooser/></Spacer>\n            <AddButton onClick={()=>{props.addItem()}}>Add + </AddButton>\n        </Bottom>\n   ) \n}","import React, { useCallback, useState } from \"react\";\nimport { Button,Tooltip,Drawer,Input } from \"antd\";\nimport { EyeOutlined } from \"@ant-design/icons\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Context } from \"../App\";\n\nconst Top = styled.div`\n  grid-row: 1 / span 1;\n\n  width: 100%;\n  height: 3rem;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 2.5rem;\n  font-size: 2.5rem;\n  font-weight: bold;\n  box-shadow: 0 0.1rem 0.1rem 0.1rem lightgrey;\n\n  @media (max-width: 950px) {\n    font-size: 1rem;\n  }\n`;\n\nconst PageTitle = styled.div`\n    position:absolute;\n    left:3rem;\n    font-size:1rem;\n\n`\n\nconst PointCap = styled.div`\n  width: 20vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 2rem;\n`\nexport default function Footer(props) {\n  const { army,limiter } = useContext(Context);\n  const {value:pointLimit, setter:setLimit} = limiter;\n  const [isOpen, setOpen] = useState(false);\n\n  function openList() {\n    setOpen(true);\n  }\n  function closeList() {\n    setOpen(false);\n  }\n\n  const total = army.reduce((acc, unit) => {\n    return acc + unit.total;\n  }, 0);\n\n  const createListUnit = useCallback((armyUnit) => {\n    return (\n      <div style={{margin:\"2rem 0\"}}>\n        <h2>\n          {armyUnit.qty} {armyUnit.model.name}\n        </h2>\n        <h3>{armyUnit.weapons.length > 0 ? \"Weapons\" : \"Weapons - None\"}</h3>\n        <ul>\n          {armyUnit.weapons.map((weapon) => {\n            return <li>{weapon.name}</li>;\n          })}\n        </ul>\n      </div>\n    );\n  });\n\n  const changeCap = useCallback((e)=>{\n    const typedLimit = e.currentTarget.value;\n\n    const checkIfNumber = (value)=>{\n      const numberRegex = /^[0-9]+$/g;\n      return numberRegex.test(value);\n    }\n\n    if(checkIfNumber(typedLimit)){\n      setLimit(typedLimit);\n    }\n\n  },[setLimit])\n\n  return (\n    <Top>\n      <PageTitle>40K Enlist</PageTitle>\n      <span style={{fontSize:\"1rem\", marginRight:\"0.5rem\"}}>Point Limit: </span>\n      <PointCap>\n        <Input placeholder=\"Point Limit\" value={pointLimit} onChange={changeCap}/>\n      </PointCap>\n      <Tooltip placement=\"bottom\" title=\"List View\">\n        <Button icon={<EyeOutlined />} shape=\"circle\" onClick={openList} />\n      </Tooltip>\n      <Drawer\n        title=\"Your List\"\n        placement=\"left\"\n        closable=\"true\"\n        onClose={closeList}\n        visible={isOpen}\n        width=\"100%\"\n        key={\"left\"}\n      >\n        {army.map((unit) => {\n          return createListUnit(unit);\n        })}\n      </Drawer>\n    </Top>\n  );\n}\n","import React from 'react';\nimport \"./component.css\"\nimport {Button,InputNumber} from 'antd';\nimport {CloseOutlined} from \"@ant-design/icons\";\nimport styled from \"styled-components\";\n\nconst Strip = styled.span`\n    background-color: lightgray;\n    width:100%;\n    margin: 0.25rem;\n    padding:0.5rem;\n\n    font-weight:bold;\n    display:flex;\n    justify-content:space-between;\n` \n\nexport default function Equipment(props){\n\n    const {equipment,selfDestruct,changeQuantity} = props;\n\n    return (\n        <Strip className=\"strip\">\n            <InputNumber value={equipment.qty} min={0} onChange={changeQuantity}/>\n            {`${equipment.name} - ${equipment.points}`}\n            <Button className=\"showOnHover\" size=\"small\" shape=\"circle\" type=\"danger\" icon={<CloseOutlined/>} onClick={selfDestruct}/>\n        </Strip>\n    )\n\n}\n\n\n","import React, { useState, useContext,useLayoutEffect,useEffect, useMemo, useCallback } from \"react\";\nimport styled from \"styled-components\"\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\";\nimport Equipment from './Equipment';\nimport {InputNumber, Select,Button} from \"antd\";\nconst {Option} = Select;\n\nconst UnitBox = styled.div`\n    width: 25rem;\n    min-height:13rem;\n    border-radius:1.25rem;\n    box-shadow: 0 0.1rem 0.2rem 0.2rem lightgrey;\n    padding:1.25rem;\n\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:space-between;\n\n    margin:0.5rem;\n\n    @media (max-width: 768px){\n        width:90vw;\n    }\n`;\n\nconst Row=  styled.span`\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nconst QuantityCap=  styled.span`\n    margin-left:1rem;\n    font-size: 1rem;\n    color:lightgrey;\n    text-decoration:underline;\n`;\n\nconst CloseRow=  styled.span`\n    display:flex;\n    justify-content:flex-start;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nconst roleDictionary = {\n    HQ:\"HQ\",\n    T:\"Troop\",\n    E :\"Elite\",\n    FA:\"F.Attack\",\n    HS:\"H.Support\",\n    F:\"Flyer\",\n    FO: \"Fort.\",\n    LOW: \"L.O.W\",\n    DRON: \"Drone\"\n\n}\n\nexport default function Unit(props){\n    const {selfDestruct,factionData, initialData} = props;\n\n    const {dispatch,total:armyTotal, limiter} = useContext(Context)\n    const {value:pointLimit} = limiter;\n\n    const [unitData, setData] = useState({qty:1, model:{name:\"\",role:\"\",points:0}, weapons:[],total:0});\n    const [currentEquip,setCurrent] = useState({name:\"\", points:0});\n    //const [unitData, setData] = useState({qty:0, name:data[currentFaction][\"UNITS\"][0].name, weapons:[]});\n\n    const units = useMemo(()=>factionData[\"UNITS\"].concat(factionData[\"NAMED CHARS\"] || []),[factionData])\n    const equipment = useMemo(()=>factionData[\"RANGED WEAPONS\"].concat(factionData[\"MELEE WEAPONS\"]).concat(factionData[\"OTHER WARGEAR\"]),[factionData])\n\n    const weaponPoints =  unitData.weapons.reduce((acc,weapon)=>{\n        return acc + parseInt(weapon.points)*weapon.qty;\n    },0);\n\n    function updateUnit(newUnit){\n        dispatch({type:\"update\",old:unitData,new:newUnit})\n        setData(newUnit);\n    }\n\n    const total = (weaponPoints + unitData.model.points)*unitData.qty;\n\n    useEffect(()=>{\n        const clone = {...unitData};\n        clone.total = total;\n        updateUnit(clone);\n    },[total]);\n\n\n    useEffect(()=>{\n        if(initialData){\n            updateUnit(initialData)\n            const startingWeapon = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            const startingWeaponPoints = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            setCurrent({name:startingWeapon,points:startingWeaponPoints});    \n        }else{\n            const firstModelPoints = parseInt(units[0].points);\n            updateUnit({qty:1, model:{name:units[0].name,points:firstModelPoints, role:units[0].role}, weapons:[],total:firstModelPoints});    \n            setCurrent({name:equipment[0].name,points:equipment[0].points});    \n        }\n    },[factionData]);\n\n\n\n    const genModData = (field)=>{\n        return (val)=>{\n            const clone = {...unitData};\n            clone[field] = val;\n            updateUnit(clone);\n        }\n    }\n\n    //where model is format name$$points because idk how to do this otherwise\n    const changeModel = (model)=>{\n        const [name,pointsTxt,role] = model.split(\"$$\");\n        const chosenModel = {name,points:parseInt(pointsTxt),role}\n        genModData(\"model\")(chosenModel);\n    }\n\n    const changeCurrentEquip = useCallback((model)=>{\n        const [name,pointsTxt] = model.split(\"$$\");\n        const chosenEquip = {name,points:parseInt(pointsTxt)}\n        setCurrent(chosenEquip);\n    },[])\n\n    const addCurrentToWeapons = ()=>{\n       const clone = {...unitData};\n       const equipClone = [...clone.weapons];\n       const index = clone.weapons.findIndex((wep)=>wep.name === currentEquip.name);\n\n       if(index != -1){\n           //increment the old strip\n           equipClone[index].qty = equipClone[index].qty + 1;\n           clone.weapons = equipClone;\n       }else{\n           //create a new weapon strip\n           const currentClone = {...currentEquip, qty:1};\n           clone.weapons = equipClone.concat([currentClone]);\n       }\n\n       updateUnit(clone);\n    }\n\n\n    const genRemoveWeapon = (name)=>{\n        return ()=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            const index = equipClone.findIndex((wep)=>wep.name === name);\n\n            const withoutIndex = equipClone.filter((w,i)=>{\n                return i != index;\n            })\n\n            clone.weapons = withoutIndex;\n            updateUnit(clone);\n        }\n    }\n\n    function changeWeaponQty(name){\n        return (qty)=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            \n            const index = equipClone.findIndex((wep)=>{return wep.name === name});\n            \n            if(index != -1){\n                equipClone[index].qty = qty;            \n                clone.weapons = equipClone;\n                updateUnit(clone);\n            }\n        }\n    }\n\n\n    return (\n        <div className=\"unitCard\">\n        <UnitBox>\n           <CloseRow>\n               <Select value={unitData.model.name} style={{width:\"50%\"}} onChange={changeModel} showSearch>\n                   {units.map((unit)=>{\n\n                       const breaksPointLimit = !!armyTotal && armyTotal + parseInt(unit.points) > pointLimit;\n                       const optionStyle = breaksPointLimit ? {color:\"red\"} : {};\n\n                       return (<Option key={unit.name} style={optionStyle} value={`${unit.name}$$${unit.points}$$${unit.role}`} >\n                        {`[${unit.role}] ${unit.name} - ${unit.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <InputNumber  value={unitData.qty} min={0} step={1} onChange={genModData(\"qty\")}/>\n               {!!pointLimit && <QuantityCap className=\"showOnHover\" >{`Max. ${Math.floor((pointLimit - armyTotal)/total)}`}</QuantityCap>}\n           </CloseRow> \n           <CloseRow>\n               <Select value={currentEquip.name} style={{width:\"50%\"}} onChange={changeCurrentEquip} showSearch>\n                   {equipment.map((e)=>{\n\n                       const breaksPointLimit = !!armyTotal && armyTotal + parseInt(e.points) > pointLimit;\n                       const optionStyle = breaksPointLimit ? {color:\"red\"} : {};\n\n                       return (<Option style={optionStyle} key={e.name} value={`${e.name}$$${e.points}`} >\n                        {`${e.name} - ${e.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <Button type=\"primary\" onClick={addCurrentToWeapons}>Add</Button>\n           </CloseRow>\n           {unitData.weapons.map((weapon)=>{\n               return <Equipment id={weapon.name} equipment={weapon} changeQuantity={changeWeaponQty(weapon.name)} selfDestruct={genRemoveWeapon(weapon.name)}/>\n           })}\n           <Row>\n                {`${total}pts - ${roleDictionary[unitData.model.role]}`}\n                <Button className=\"showOnHover\" shape=\"circle\" type=\"danger\" icon={<DeleteOutlined/>} size=\"large\" onClick={()=>{selfDestruct(unitData)}}/> \n           </Row>\n        </UnitBox>\n        </div>\n    )\n}","import React, { useCallback, useEffect,useLayoutEffect } from 'react';\nimport {useState,useContext} from 'react';\nimport styled from 'styled-components';\nimport {Button} from 'antd';\nimport {PlusOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\"\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Unit from \"./Unit\";\nimport { existsSync } from 'fs';\n\n\nconst Top = styled.div`\n    grid-row: 2/span 1;\n    background-color: white;\n    width:100%;\n    max-height: 100%;\n    position:relative;\n    padding: 2.5rem;\n\n    display:flex;\n    justify-content:flex-start;\n    align-items:flex-start;\n    flex-wrap:wrap;\n    overflow:auto;\n    \n    @media (max-width: 768px){\n        padding:1rem;\n    }\n`\n\nconst AddButton = styled.div`\n    position: absolute;\n    right:2.5rem;\n    bottom:2.5rem;\n`\n\nexport default function Main(){\n\n    const [units,setUnits] = useState([]);\n    const [idCount,setIdCount] = useState(1);\n    const {data,factionData,dispatch} = useContext(Context);\n\n    const addItem = (unit)=>{\n        setIdCount(idCount+1);\n        const newItem = {id:idCount,initialData:unit};\n        setUnits([...units, newItem]);\n    }\n    //load this component with the data it last had when closed\n    useLayoutEffect(()=>{\n        const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n        if(existingList.army){\n            const init = [];\n            existingList.army.forEach((unit,i)=>{\n                init.push({id:i, initialData:unit});\n            });\n            setUnits(init);\n            setIdCount(existingList.army.length+1);\n        }\n    },[])\n\n\n    const genDestroyItem = (id)=>{\n        return (unitToRemove)=>{\n            const newList = units.filter(unit=>unit.id !== id);\n            setUnits(newList);\n            dispatch({type:\"remove\", old:unitToRemove})\n        }\n    }\n\n        //const {dispatch} = Total;\n        //dispatch({type:\"add\", value:1});\n\n    const currentFaction = factionData.currentFaction || factionData.factionList[0];\n\n    return (\n        <>\n            <Header/> \n            <Top>\n                {data && data[currentFaction] && units.map((unit)=>{\n                    console.log(unit.id);\n                    return <Unit key={unit.id} initialData={unit.initialData} selfDestruct={genDestroyItem(unit.id)} factionData={data[currentFaction]}/>\n                })}\n            </Top>\n            <Footer addItem={addItem}/>\n        </>\n    )  \n}","import React,{useState,useEffect,useReducer} from 'react';\nimport './App.css';\nimport Main from \"./Components/Main\";\nimport styled from 'styled-components';\nimport { array } from 'prop-types';\n\nconst Context = React.createContext();\n\nconst All = styled.div`\n  width:100%;\n  height: 99.9vh;\n  display: grid;\n  grid-template-rows: 5rem 1fr 5rem;\n  grid-template-columns: 1fr;\n`\n\nconst reducer = function(army,action){\n\n  function removeUnit(toRemove){\n    let firstInstanceRemoved = false;\n    return army.filter((unit)=>{\n      if(firstInstanceRemoved){return true};\n      let isKept = true;\n      if(unit.qty === toRemove.qty && toRemove.model.name === unit.model.name){\n        const weaponsOnRemoved = toRemove.weapons;\n        const weaponsOnUnit = unit.weapons;\n        if(weaponsOnRemoved.length == weaponsOnUnit.length){\n          const diffWeapons = weaponsOnRemoved.filter(weaponOnRemoved=>{\n            return !weaponsOnUnit.find(weaponOnUnit=>weaponOnUnit.name === weaponOnRemoved.name);\n          });\n          \n          if(diffWeapons.length === 0){\n            isKept = false;\n          }\n\n        }\n      }\n      if(!isKept){firstInstanceRemoved = true};\n      return isKept;\n    })\n  }\n\n\n  const toRemove = action.old;\n  switch(action.type){\n    case \"update\":\n      return removeUnit(toRemove).concat(action.new);\n      break;\n    case \"remove\": \n      //deep comparison on qty, model, weapons\n      return removeUnit(toRemove); \n      break;\n  }\n  return \"error\";\n}\n\nfunction App() {\n\n  const [data,setData] = useState({});\n  const [army,dispatch] = useReducer(reducer,[]);\n  const [factions,setFactions] = useState({currentFaction: \"\", factionList:[]});\n  const [pointCap, setCap] = useState(null);\n\n  useEffect(()=>{\n    const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n    fetch('https://raw.githubusercontent.com/Brymo/Enlist/master/public/Data.json').then(v=>v.json()).then(data=>{\n      setData(data);\n      const factionKeys = Object.keys(data); \n      setFactions({currentFaction:existingList.faction || factionKeys[0], factionList:factionKeys, factionSetter:setFactions});\n      setCap(existingList.pointLimit);\n    });\n  },[])\n  \n  const total = army.reduce((acc,unit)=>{\n      return acc + unit.total;\n  },0);\n\n  return (\n    <>\n      <Context.Provider value={{data,factionData:factions,army,limiter:{value:pointCap, setter:setCap},total,dispatch }}>\n        <All>\n          <Main/>\n        </All>\n      </Context.Provider>\n    </>\n  );\n}\n\nexport default App;\nexport {Context};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}