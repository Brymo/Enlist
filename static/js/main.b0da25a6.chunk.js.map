{"version":3,"sources":["Components/FactionChoice.js","Components/Footer.js","Components/Header.js","Components/Equipment.js","Components/Unit.js","Components/Main.js","App.js","serviceWorker.js","index.js"],"names":["Option","Select","FactionChoice","useContext","Context","factionData","currentFaction","factionList","factionSetter","style","minWidth","width","value","onChange","selection","clone","console","log","showSearch","map","faction","key","Bottom","styled","div","Summary","DetachmentType","Spacer","AddButton","interrogate","roleCounts","with","conditions","passes","forEach","condition","createRange","role","min","max","patrolConditions","spearheadConditions","outriderConditions","Footer","props","army","useLayoutEffect","setTimeout","dataToSave","localStorage","setItem","JSON","stringify","roleCount","reduce","acc","unit","model","HQ","T","E","FA","HS","DT","F","isPatrol","isSpearhead","isOutrider","detachmentType","total","onClick","addItem","Top","PageTitle","useState","isOpen","setOpen","createListUnit","useCallback","armyUnit","margin","qty","name","weapons","length","weapon","placement","title","icon","EyeOutlined","shape","closable","onClose","visible","Strip","span","Equipment","equipment","selfDestruct","changeQuantity","className","points","size","type","CloseOutlined","UnitBox","Row","CloseRow","roleDictionary","FO","LOW","Unit","initialData","dispatch","unitData","setData","currentEquip","setCurrent","units","useMemo","concat","updateUnit","newUnit","old","new","parseInt","useEffect","startingWeapon","startingWeaponPoints","firstModelPoints","genModData","field","val","changeCurrentEquip","split","pointsTxt","chosenEquip","genRemoveWeapon","equipClone","index","findIndex","wep","withoutIndex","filter","w","i","chosenModel","step","e","currentClone","id","DeleteOutlined","Main","setUnits","idCount","setIdCount","data","existingList","parse","getItem","init","push","unitToRemove","newList","newItem","React","createContext","All","reducer","action","removeUnit","toRemove","firstInstanceRemoved","isKept","weaponsOnRemoved","weaponsOnUnit","weaponOnRemoved","find","weaponOnUnit","App","useReducer","factions","setFactions","fetch","then","v","json","factionKeys","Object","keys","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b0da25a6.chunk.js","sourcesContent":["import React,{useState,useContext} from 'react';\nimport {Context} from \"../App\";\nimport {Select} from \"antd\";\nconst {Option} = Select;\n\nexport default function FactionChoice(){\n\n    const {currentFaction,factionList,factionSetter} = useContext(Context).factionData;\n\n    function setFaction(selection){\n        const clone = {currentFaction:selection, factionList:[...factionList], factionSetter};\n        clone.currentFaction = selection;\n        console.log(clone);\n        factionSetter(clone);\n    }\n\n    return(\n        <div style={{minWidth:\"10rem\", width:\"20%\"}}>\n            <Select value={currentFaction} style={{minWidth:\"10rem\", width:\"100%\"}} onChange={setFaction} showSearch>\n                {factionList.map((faction)=>{\n                    return (<Option key={faction} value={faction}>\n                    {faction}\n                    </Option>)\n                })}\n            </Select>\n        </div>\n    )\n\n}","import React, { useLayoutEffect } from 'react';\nimport {useContext} from 'react';\nimport styled from \"styled-components\";\nimport {Context} from \"../App\";\nimport FactionChooser from './FactionChoice'\n\nconst Bottom = styled.div`\n\n    grid-row: 3/span 1;\n\n    width:100%;\n    height: 5rem;\n    display:flex;\n    justify-content:space-between;\n    align-items: center;\n    border-top: 1px solid grey ;\n    padding: 0 2.5rem;\n    font-size: 2.5rem;\n    font-weight:bold;\n\n    @media (max-width: 950px){\n        justify-content:flex-start;\n        font-size: 1rem;\n    }\n\n` \n\nconst Summary = styled.div`\n    display:flex;\n    flex-direction:column;\n    align-items:flex-start;\n    justify-content:center;\n    font-size: 1.5rem;\n\n    @media (max-width: 950px){\n        font-size: 1rem;\n    }\n`;\n\nconst DetachmentType = styled.div`\n    font-size: 1rem;\n\n    @media (max-width: 950px){\n        font-size: 1rem;\n    }\n`;\n\nconst Spacer = styled.div`\n    margin-left:1rem;\n`\n\nconst AddButton = styled.div`\n    width: 50vw;\n    background-color: #1890ff;\n    margin: -2.5rem;\n    padding-left: 2.5rem;\n    height:5rem;\n    display:flex;\n    align-items:center;\n    cursor: pointer;\n    transition: padding-left 0.2s ease-out;\n\n    &:hover{\n        padding-left: 2.8rem;\n    }\n\n    @media (max-width: 950px){\n        position:absolute;\n        right:0;\n        padding-left: 0rem;\n        margin: 0rem;\n        width: 20vw;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n    }\n\n`\n\nfunction interrogate(roleCounts){\n    return {\n        with: (conditions)=>{\n            let passes = true;\n            conditions.forEach(condition => {\n                if(!condition(roleCounts)){\n                    passes = false;\n                }\n            });\n            return passes;\n        }\n    }\n}\n\nfunction createRange(role,min,max){\n    return (roleCounts)=>{\n        return roleCounts[role] >= min && roleCounts[role] <= max;\n    }\n}\n\nconst patrolConditions = [\n    createRange(\"HQ\", 1,2),\n    createRange(\"T\", 1,3),\n    createRange(\"E\", 0,2),\n    createRange(\"FA\", 0,2),\n    createRange(\"HS\", 0,2),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\nconst spearheadConditions = [\n    createRange(\"HQ\", 2,3),\n    createRange(\"T\", 3,6),\n    createRange(\"E\", 0,6),\n    createRange(\"FA\", 0,3),\n    createRange(\"HS\", 0,3),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\nconst outriderConditions = [\n    createRange(\"HQ\", 3,5),\n    createRange(\"T\", 6,12),\n    createRange(\"E\", 3,8),\n    createRange(\"FA\", 3,5),\n    createRange(\"HS\", 3,5),\n    createRange(\"F\", 0,2),\n    createRange(\"LOW\", 0,1),\n];\n\n\nexport default function Footer(props){\n  \n    const {army,factionData} = useContext(Context);\n\n    useLayoutEffect(()=>{\n        setTimeout(()=>{\n            const clone = [...army];\n            const dataToSave = {army:clone, faction: factionData.currentFaction};\n            console.log(dataToSave);\n            localStorage.setItem(\"ENLIST_ARMY_LIST\", JSON.stringify(dataToSave));\n        },0);\n    },[army,factionData])\n\n    const roleCount = army.reduce((acc,unit)=>{\n        const clone = {...acc};\n        clone[unit.model.role] += 1;\n        return clone;\n    }, {HQ:0, T:0,E:0,FA:0,HS:0,DT:0,F:0,F:0,LOW:0}) \n\n    const isPatrol = interrogate(roleCount).with(patrolConditions);\n    const isSpearhead = interrogate(roleCount).with(spearheadConditions);\n    const isOutrider = interrogate(roleCount).with(outriderConditions);\n\n    const detachmentType = isPatrol ? \"Patrol\":\n                           isSpearhead ? \"Spearhead\":\n                           isOutrider ? \"Outrider\":\n                           \"Invalid Detachment\";\n\n    const total = army.reduce((acc,unit)=>{\n        return acc + unit.total;\n    },0);\n\n\n    /*HQ\n    * T - Troop\n    * E - Elite\n    * FA - Fast Attack\n    * HS - Heavy Support\n    * F - Flyer\n    * FO - Fortification\n    * DT - Dedicated transport\n    */\n\n   return (\n        <Bottom>\n            <Summary>\n                <div>{`Total: ${total}pts`}</div>\n                <DetachmentType>{detachmentType}</DetachmentType>\n            </Summary>\n            <Spacer><FactionChooser/></Spacer>\n            <AddButton onClick={()=>{props.addItem()}}>Add + </AddButton>\n        </Bottom>\n   ) \n}","import React, { useCallback, useState } from \"react\";\nimport { Button,Tooltip,Drawer } from \"antd\";\nimport { EyeOutlined } from \"@ant-design/icons\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Context } from \"../App\";\n\nconst Top = styled.div`\n  grid-row: 1 / span 1;\n\n  width: 100%;\n  height: 3rem;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 2.5rem;\n  font-size: 2.5rem;\n  font-weight: bold;\n  box-shadow: 0 0.1rem 0.1rem 0.1rem lightgrey;\n\n  @media (max-width: 950px) {\n    font-size: 1rem;\n  }\n`;\n\nconst PageTitle = styled.div`\n    position:absolute;\n    left:3rem;\n    font-size:1rem;\n\n`\n\nexport default function Footer(props) {\n  const { army } = useContext(Context);\n  const [isOpen, setOpen] = useState(false);\n\n  function openList() {\n    setOpen(true);\n  }\n  function closeList() {\n    setOpen(false);\n  }\n\n  const total = army.reduce((acc, unit) => {\n    return acc + unit.total;\n  }, 0);\n\n  const createListUnit = useCallback((armyUnit) => {\n    return (\n      <div style={{margin:\"2rem 0\"}}>\n        <h2>\n          {armyUnit.qty} {armyUnit.model.name}\n        </h2>\n        <h3>{armyUnit.weapons.length > 0 ? \"Weapons\" : \"Weapons - None\"}</h3>\n        <ul>\n          {armyUnit.weapons.map((weapon) => {\n            return <li>{weapon.name}</li>;\n          })}\n        </ul>\n      </div>\n    );\n  });\n\n  return (\n    <Top>\n      <PageTitle>40K Enlist</PageTitle>\n      <Tooltip placement=\"bottom\" title=\"List View\">\n        <Button icon={<EyeOutlined />} shape=\"circle\" onClick={openList} />\n      </Tooltip>\n      <Drawer\n        title=\"Your List\"\n        placement=\"left\"\n        closable=\"true\"\n        onClose={closeList}\n        visible={isOpen}\n        width=\"100%\"\n        key={\"left\"}\n      >\n        {army.map((unit) => {\n          return createListUnit(unit);\n        })}\n      </Drawer>\n    </Top>\n  );\n}\n","import React from 'react';\nimport \"./component.css\"\nimport {Button,InputNumber} from 'antd';\nimport {CloseOutlined} from \"@ant-design/icons\";\nimport styled from \"styled-components\";\n\nconst Strip = styled.span`\n    background-color: lightgray;\n    width:100%;\n    margin: 0.25rem;\n    padding:0.5rem;\n\n    font-weight:bold;\n    display:flex;\n    justify-content:space-between;\n` \n\nexport default function Equipment(props){\n\n    const {equipment,selfDestruct,changeQuantity} = props;\n\n    return (\n        <Strip className=\"strip\">\n            <InputNumber value={equipment.qty} min={0} onChange={changeQuantity}/>\n            {`${equipment.name} - ${equipment.points}`}\n            <Button className=\"showOnHover\" size=\"small\" shape=\"circle\" type=\"danger\" icon={<CloseOutlined/>} onClick={selfDestruct}/>\n        </Strip>\n    )\n\n}\n\n\n","import React, { useState, useContext,useLayoutEffect,useEffect, useMemo, useCallback } from \"react\";\nimport styled from \"styled-components\"\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\";\nimport Equipment from './Equipment';\nimport {InputNumber, Select,Button} from \"antd\";\nconst {Option} = Select;\n\nconst UnitBox = styled.div`\n    width: 25rem;\n    min-height:13rem;\n    border-radius:1.25rem;\n    box-shadow: 0 0.1rem 0.2rem 0.2rem lightgrey;\n    padding:1.25rem;\n\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:space-between;\n\n    margin:0.5rem;\n\n    @media (max-width: 768px){\n        width:90vw;\n    }\n`;\n\nconst Row=  styled.span`\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nconst CloseRow=  styled.span`\n    display:flex;\n    justify-content:flex-start;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nconst roleDictionary = {\n    HQ:\"HQ\",\n    T:\"Troop\",\n    E :\"Elite\",\n    FA:\"F.Attack\",\n    HS:\"H.Support\",\n    F:\"Flyer\",\n    FO: \"Fort.\",\n    LOW: \"L.O.W\"\n}\n\nexport default function Unit(props){\n    const {selfDestruct,factionData, initialData} = props;\n    const allData = useContext(Context)\n    const {dispatch } = allData;\n    const [unitData, setData] = useState({qty:1, model:{name:\"\",role:\"\",points:0}, weapons:[],total:0});\n    const [currentEquip,setCurrent] = useState({name:\"\", points:0});\n    //const [unitData, setData] = useState({qty:0, name:data[currentFaction][\"UNITS\"][0].name, weapons:[]});\n\n    const units = useMemo(()=>factionData[\"UNITS\"].concat(factionData[\"NAMED CHARS\"] || []),[factionData])\n    const equipment = useMemo(()=>factionData[\"RANGED WEAPONS\"].concat(factionData[\"MELEE WEAPONS\"]).concat(factionData[\"OTHER WARGEAR\"]),[factionData])\n\n    const weaponPoints =  unitData.weapons.reduce((acc,weapon)=>{\n        return acc + parseInt(weapon.points)*weapon.qty;\n    },0);\n\n    function updateUnit(newUnit){\n        dispatch({type:\"update\",old:unitData,new:newUnit})\n        setData(newUnit);\n    }\n\n    const total = (weaponPoints + unitData.model.points)*unitData.qty;\n\n    useEffect(()=>{\n        const clone = {...unitData};\n        clone.total = total;\n        updateUnit(clone);\n    },[total]);\n\n\n    useEffect(()=>{\n        if(initialData){\n            updateUnit(initialData)\n            const startingWeapon = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            const startingWeaponPoints = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            setCurrent({name:startingWeapon,points:startingWeaponPoints});    \n        }else{\n            const firstModelPoints = parseInt(units[0].points);\n            updateUnit({qty:1, model:{name:units[0].name,points:firstModelPoints, role:units[0].role}, weapons:[],total:firstModelPoints});    \n            setCurrent({name:equipment[0].name,points:equipment[0].points});    \n        }\n    },[factionData]);\n\n\n\n    const genModData = (field)=>{\n        return (val)=>{\n            const clone = {...unitData};\n            clone[field] = val;\n            updateUnit(clone);\n        }\n    }\n\n    //where model is format name$$points because idk how to do this otherwise\n    const changeModel = (model)=>{\n        const [name,pointsTxt,role] = model.split(\"$$\");\n        const chosenModel = {name,points:parseInt(pointsTxt),role}\n        genModData(\"model\")(chosenModel);\n    }\n\n    const changeCurrentEquip = useCallback((model)=>{\n        const [name,pointsTxt] = model.split(\"$$\");\n        const chosenEquip = {name,points:parseInt(pointsTxt)}\n        setCurrent(chosenEquip);\n    },[])\n\n    const addCurrentToWeapons = ()=>{\n       const clone = {...unitData};\n       const equipClone = [...clone.weapons];\n       const index = clone.weapons.findIndex((wep)=>wep.name === currentEquip.name);\n\n       if(index != -1){\n           //increment the old strip\n           equipClone[index].qty = equipClone[index].qty + 1;\n           clone.weapons = equipClone;\n       }else{\n           //create a new weapon strip\n           const currentClone = {...currentEquip, qty:1};\n           clone.weapons = equipClone.concat([currentClone]);\n       }\n\n       updateUnit(clone);\n    }\n\n\n    const genRemoveWeapon = (name)=>{\n        return ()=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            const index = equipClone.findIndex((wep)=>wep.name === name);\n\n            const withoutIndex = equipClone.filter((w,i)=>{\n                return i != index;\n            })\n\n            clone.weapons = withoutIndex;\n            updateUnit(clone);\n        }\n    }\n\n    function changeWeaponQty(name){\n        return (qty)=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            \n            const index = equipClone.findIndex((wep)=>{return wep.name === name});\n            \n            if(index != -1){\n                equipClone[index].qty = qty;            \n                clone.weapons = equipClone;\n                updateUnit(clone);\n            }\n        }\n    }\n\n    console.log(units);\n\n    return (\n        <div className=\"unitCard\">\n        <UnitBox>\n           <CloseRow>\n               <Select value={unitData.model.name} style={{width:\"50%\"}} onChange={changeModel} showSearch>\n                   {units.map((unit)=>{\n                       return (<Option key={unit.name} value={`${unit.name}$$${unit.points}$$${unit.role}`} >\n                        {`[${unit.role}] ${unit.name} - ${unit.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <InputNumber  value={unitData.qty} min={0} step={1} onChange={genModData(\"qty\")}/>\n           </CloseRow> \n           <CloseRow>\n               <Select value={currentEquip.name} style={{width:\"50%\"}} onChange={changeCurrentEquip} showSearch>\n                   {equipment.map((e)=>{\n                       return (<Option key={e.name} value={`${e.name}$$${e.points}`} >\n                        {`${e.name} - ${e.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <Button type=\"primary\" onClick={addCurrentToWeapons}>Add</Button>\n           </CloseRow>\n           {unitData.weapons.map((weapon)=>{\n               return <Equipment id={weapon.name} equipment={weapon} changeQuantity={changeWeaponQty(weapon.name)} selfDestruct={genRemoveWeapon(weapon.name)}/>\n           })}\n           <Row>\n                {`${total}pts - ${roleDictionary[unitData.model.role]}`}\n                <Button className=\"showOnHover\" shape=\"circle\" type=\"danger\" icon={<DeleteOutlined/>} size=\"large\" onClick={()=>{selfDestruct(unitData)}}/> \n           </Row>\n        </UnitBox>\n        </div>\n    )\n}","import React, { useCallback, useEffect,useLayoutEffect } from 'react';\nimport {useState,useContext} from 'react';\nimport styled from 'styled-components';\nimport {Button} from 'antd';\nimport {PlusOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\"\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Unit from \"./Unit\";\nimport { existsSync } from 'fs';\n\n\nconst Top = styled.div`\n    grid-row: 2/span 1;\n    background-color: white;\n    width:100%;\n    max-height: 100%;\n    position:relative;\n    padding: 2.5rem;\n\n    display:flex;\n    justify-content:flex-start;\n    align-items:flex-start;\n    flex-wrap:wrap;\n    overflow:auto;\n    \n    @media (max-width: 768px){\n        padding:1rem;\n    }\n`\n\nconst AddButton = styled.div`\n    position: absolute;\n    right:2.5rem;\n    bottom:2.5rem;\n`\n\nexport default function Main(){\n\n    const [units,setUnits] = useState([]);\n    const [idCount,setIdCount] = useState(1);\n    const {data,factionData,dispatch} = useContext(Context);\n\n    const addItem = (unit)=>{\n        setIdCount(idCount+1);\n        const newItem = {id:idCount,initialData:unit};\n        setUnits([...units, newItem]);\n    }\n    //load this component with the data it last had when closed\n    useLayoutEffect(()=>{\n        const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n        if(existingList.army){\n            const init = [];\n            existingList.army.forEach((unit,i)=>{\n                init.push({id:i, initialData:unit});\n            });\n            setUnits(init);\n            setIdCount(existingList.army.length+1);\n        }\n    },[])\n\n\n    const genDestroyItem = (id)=>{\n        return (unitToRemove)=>{\n            const newList = units.filter(unit=>unit.id !== id);\n            setUnits(newList);\n            dispatch({type:\"remove\", old:unitToRemove})\n        }\n    }\n\n        //const {dispatch} = Total;\n        //dispatch({type:\"add\", value:1});\n\n    const currentFaction = factionData.currentFaction || factionData.factionList[0];\n\n    return (\n        <>\n            <Header/> \n            <Top>\n                {data && data[currentFaction] && units.map((unit)=>{\n                    console.log(unit.id);\n                    return <Unit key={unit.id} initialData={unit.initialData} selfDestruct={genDestroyItem(unit.id)} factionData={data[currentFaction]}/>\n                })}\n            </Top>\n            <Footer addItem={addItem}/>\n        </>\n    )  \n}","import React,{useState,useEffect,useReducer} from 'react';\nimport './App.css';\nimport Main from \"./Components/Main\";\nimport styled from 'styled-components';\nimport { array } from 'prop-types';\n\nconst Context = React.createContext();\n\nconst All = styled.div`\n  width:100%;\n  height: 99.9vh;\n  display: grid;\n  grid-template-rows: 5rem 1fr 5rem;\n  grid-template-columns: 1fr;\n`\n\nconst reducer = function(army,action){\n\n  function removeUnit(toRemove){\n    let firstInstanceRemoved = false;\n    return army.filter((unit)=>{\n      if(firstInstanceRemoved){return true};\n      let isKept = true;\n      if(unit.qty === toRemove.qty && toRemove.model.name === unit.model.name){\n        const weaponsOnRemoved = toRemove.weapons;\n        const weaponsOnUnit = unit.weapons;\n        if(weaponsOnRemoved.length == weaponsOnUnit.length){\n          const diffWeapons = weaponsOnRemoved.filter(weaponOnRemoved=>{\n            return !weaponsOnUnit.find(weaponOnUnit=>weaponOnUnit.name === weaponOnRemoved.name);\n          });\n          \n          if(diffWeapons.length === 0){\n            isKept = false;\n          }\n\n        }\n      }\n      if(!isKept){firstInstanceRemoved = true};\n      return isKept;\n    })\n  }\n\n\n  const toRemove = action.old;\n  switch(action.type){\n    case \"update\":\n      return removeUnit(toRemove).concat(action.new);\n      break;\n    case \"remove\": \n      //deep comparison on qty, model, weapons\n      return removeUnit(toRemove); \n      break;\n  }\n  return \"error\";\n}\n\nfunction App() {\n\n  const [data,setData] = useState({});\n  const [army,dispatch] = useReducer(reducer,[]);\n  const [factions,setFactions] = useState({currentFaction: \"\", factionList:[]});\n\n\n  useEffect(()=>{\n    const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n    console.log(existingList);\n    fetch('https://raw.githubusercontent.com/Brymo/Enlist/master/public/Data.json').then(v=>v.json()).then(data=>{\n      console.log(data);\n      setData(data);\n      const factionKeys = Object.keys(data); \n      setFactions({currentFaction:existingList.faction || factionKeys[0], factionList:factionKeys, factionSetter:setFactions});\n    });\n  },[])\n  \n\n  return (\n    <>\n      <Context.Provider value={{data,factionData:factions,army, dispatch }}>\n        <All>\n          <Main/>\n        </All>\n      </Context.Provider>\n    </>\n  );\n}\n\nexport default App;\nexport {Context};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}