{"version":3,"sources":["Components/FactionChoice.js","Components/Footer.js","Components/Header.js","Components/Equipment.js","Components/Unit.js","Components/Main.js","App.js","serviceWorker.js","index.js"],"names":["Option","Select","FactionChoice","useContext","Context","factionData","currentFaction","factionList","factionSetter","style","minWidth","width","value","onChange","selection","clone","console","log","showSearch","map","faction","key","Bottom","styled","div","Spacer","AddButton","Footer","props","army","useLayoutEffect","setTimeout","dataToSave","localStorage","setItem","JSON","stringify","total","reduce","acc","unit","onClick","addItem","Top","PageTitle","useState","isOpen","setOpen","createListUnit","useCallback","armyUnit","margin","qty","model","name","weapons","length","weapon","placement","title","icon","EyeOutlined","shape","closable","onClose","visible","Strip","span","Equipment","equipment","selfDestruct","changeQuantity","className","min","points","size","type","CloseOutlined","UnitBox","Row","CloseRow","Unit","initialData","dispatch","unitData","setData","currentEquip","setCurrent","units","useMemo","concat","updateUnit","newUnit","old","new","parseInt","useEffect","startingWeapon","startingWeaponPoints","firstModelPoints","genModData","field","val","changeCurrentEquip","split","pointsTxt","chosenEquip","genRemoveWeapon","equipClone","index","findIndex","wep","withoutIndex","filter","w","i","chosenModel","step","e","currentClone","id","DeleteOutlined","Main","setUnits","idCount","setIdCount","data","existingList","parse","getItem","init","forEach","push","unitToRemove","newList","newItem","React","createContext","All","reducer","action","removeUnit","toRemove","firstInstanceRemoved","isKept","weaponsOnRemoved","weaponsOnUnit","weaponOnRemoved","find","weaponOnUnit","App","useReducer","factions","setFactions","fetch","then","v","json","factionKeys","Object","keys","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.e21044c5.chunk.js","sourcesContent":["import React,{useState,useContext} from 'react';\nimport {Context} from \"../App\";\nimport {Select} from \"antd\";\nconst {Option} = Select;\n\nexport default function FactionChoice(){\n\n    const {currentFaction,factionList,factionSetter} = useContext(Context).factionData;\n\n    function setFaction(selection){\n        const clone = {currentFaction:selection, factionList:[...factionList], factionSetter};\n        clone.currentFaction = selection;\n        console.log(clone);\n        factionSetter(clone);\n    }\n\n    return(\n        <div style={{minWidth:\"10rem\", width:\"20%\"}}>\n            <Select value={currentFaction} style={{minWidth:\"10rem\", width:\"100%\"}} onChange={setFaction} showSearch>\n                {factionList.map((faction)=>{\n                    return (<Option key={faction} value={faction}>\n                    {faction}\n                    </Option>)\n                })}\n            </Select>\n        </div>\n    )\n\n}","import React, { useLayoutEffect } from 'react';\nimport {useContext} from 'react';\nimport styled from \"styled-components\";\nimport {Context} from \"../App\";\nimport FactionChooser from './FactionChoice'\n\nconst Bottom = styled.div`\n\n    grid-row: 3/span 1;\n\n    width:100%;\n    height: 5rem;\n    display:flex;\n    justify-content:space-between;\n    align-items: center;\n    border-top: 1px solid grey ;\n    padding: 0 2.5rem;\n    font-size: 2.5rem;\n    font-weight:bold;\n\n    @media (max-width: 950px){\n        justify-content:flex-start;\n        font-size: 1rem;\n    }\n\n` \n\nconst Spacer = styled.div`\n    margin-left:1rem;\n`\n\nconst AddButton = styled.div`\n    width: 50vw;\n    background-color: #1890ff;\n    margin: -2.5rem;\n    padding-left: 2.5rem;\n    height:5rem;\n    display:flex;\n    align-items:center;\n    cursor: pointer;\n    transition: padding-left 0.2s ease-out;\n\n    &:hover{\n        padding-left: 2.8rem;\n    }\n\n    @media (max-width: 950px){\n        position:absolute;\n        right:0;\n        padding-left: 0rem;\n        margin: 0rem;\n        width: 20vw;\n        display:flex;\n        justify-content:center;\n        align-items:center;\n    }\n\n`\n\nexport default function Footer(props){\n  \n    const {army,factionData} = useContext(Context);\n\n    useLayoutEffect(()=>{\n        setTimeout(()=>{\n            const clone = [...army];\n            const dataToSave = {army:clone, faction: factionData.currentFaction};\n            console.log(dataToSave);\n            localStorage.setItem(\"ENLIST_ARMY_LIST\", JSON.stringify(dataToSave));\n        },0);\n    },[army,factionData])\n\n\n    const total = army.reduce((acc,unit)=>{\n        return acc + unit.total;\n    },0);\n\n   return (\n        <Bottom>\n            {`Total: ${total}pts`}\n            <Spacer><FactionChooser/></Spacer>\n            <AddButton onClick={()=>{props.addItem()}}>Add + </AddButton>\n        </Bottom>\n   ) \n}","import React, { useCallback, useState } from \"react\";\nimport { Button,Tooltip,Drawer } from \"antd\";\nimport { EyeOutlined } from \"@ant-design/icons\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Context } from \"../App\";\n\nconst Top = styled.div`\n  grid-row: 1 / span 1;\n\n  width: 100%;\n  height: 3rem;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 2.5rem;\n  font-size: 2.5rem;\n  font-weight: bold;\n  box-shadow: 0 0.1rem 0.1rem 0.1rem lightgrey;\n\n  @media (max-width: 950px) {\n    font-size: 1rem;\n  }\n`;\n\nconst PageTitle = styled.div`\n    position:absolute;\n    left:3rem;\n    font-size:1rem;\n\n`\n\nexport default function Footer(props) {\n  const { army } = useContext(Context);\n  const [isOpen, setOpen] = useState(false);\n\n  function openList() {\n    setOpen(true);\n  }\n  function closeList() {\n    setOpen(false);\n  }\n\n  const total = army.reduce((acc, unit) => {\n    return acc + unit.total;\n  }, 0);\n\n  const createListUnit = useCallback((armyUnit) => {\n    return (\n      <div style={{margin:\"2rem 0\"}}>\n        <h2>\n          {armyUnit.qty} {armyUnit.model.name}\n        </h2>\n        <h3>{armyUnit.weapons.length > 0 ? \"Weapons\" : \"Weapons - None\"}</h3>\n        <ul>\n          {armyUnit.weapons.map((weapon) => {\n            return <li>{weapon.name}</li>;\n          })}\n        </ul>\n      </div>\n    );\n  });\n\n  return (\n    <Top>\n      <PageTitle>40K Enlist</PageTitle>\n      <Tooltip placement=\"bottom\" title=\"List View\">\n        <Button icon={<EyeOutlined />} shape=\"circle\" onClick={openList} />\n      </Tooltip>\n      <Drawer\n        title=\"Your List\"\n        placement=\"left\"\n        closable=\"true\"\n        onClose={closeList}\n        visible={isOpen}\n        width=\"100%\"\n        key={\"left\"}\n      >\n        {army.map((unit) => {\n          return createListUnit(unit);\n        })}\n      </Drawer>\n    </Top>\n  );\n}\n","import React from 'react';\nimport \"./component.css\"\nimport {Button,InputNumber} from 'antd';\nimport {CloseOutlined} from \"@ant-design/icons\";\nimport styled from \"styled-components\";\n\nconst Strip = styled.span`\n    background-color: lightgray;\n    width:100%;\n    margin: 0.25rem;\n    padding:0.5rem;\n\n    font-weight:bold;\n    display:flex;\n    justify-content:space-between;\n` \n\nexport default function Equipment(props){\n\n    const {equipment,selfDestruct,changeQuantity} = props;\n\n    return (\n        <Strip className=\"strip\">\n            <InputNumber value={equipment.qty} min={0} onChange={changeQuantity}/>\n            {`${equipment.name} - ${equipment.points}`}\n            <Button className=\"showOnHover\" size=\"small\" shape=\"circle\" type=\"danger\" icon={<CloseOutlined/>} onClick={selfDestruct}/>\n        </Strip>\n    )\n\n}\n\n\n","import React, { useState, useContext,useLayoutEffect,useEffect, useMemo, useCallback } from \"react\";\nimport styled from \"styled-components\"\nimport {DeleteOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\";\nimport Equipment from './Equipment';\nimport {InputNumber, Select,Button} from \"antd\";\nconst {Option} = Select;\n\nconst UnitBox = styled.div`\n    width: 25rem;\n    min-height:13rem;\n    border-radius:1.25rem;\n    box-shadow: 0 0.1rem 0.2rem 0.2rem lightgrey;\n    padding:1.25rem;\n\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:space-between;\n\n    margin:0.5rem;\n\n    @media (max-width: 768px){\n        width:90vw;\n    }\n`;\n\nconst Row=  styled.span`\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nconst CloseRow=  styled.span`\n    display:flex;\n    justify-content:flex-start;\n    align-items:center;\n    width:100%;\n    font-size: 2.5rem;\n    font-weight:bold;\n`;\n\nexport default function Unit(props){\n    const {selfDestruct,factionData, initialData} = props;\n    const allData = useContext(Context)\n    const {dispatch } = allData;\n    const [unitData, setData] = useState({qty:1, model:{name:\"\",points:0}, weapons:[],total:0});\n    const [currentEquip,setCurrent] = useState({name:\"\", points:0});\n    //const [unitData, setData] = useState({qty:0, name:data[currentFaction][\"UNITS\"][0].name, weapons:[]});\n\n    const units = useMemo(()=>factionData[\"UNITS\"].concat(factionData[\"NAMED CHARS\"] || []),[factionData])\n    const equipment = useMemo(()=>factionData[\"RANGED WEAPONS\"].concat(factionData[\"MELEE WEAPONS\"]).concat(factionData[\"OTHER WARGEAR\"]),[factionData])\n\n    const weaponPoints =  unitData.weapons.reduce((acc,weapon)=>{\n        return acc + parseInt(weapon.points)*weapon.qty;\n    },0);\n\n    function updateUnit(newUnit){\n        dispatch({type:\"update\",old:unitData,new:newUnit})\n        setData(newUnit);\n    }\n\n    const total = (weaponPoints + unitData.model.points)*unitData.qty;\n\n    useEffect(()=>{\n        const clone = {...unitData};\n        clone.total = total;\n        updateUnit(clone);\n    },[total]);\n\n\n    useEffect(()=>{\n        if(initialData){\n            updateUnit(initialData)\n            const startingWeapon = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            const startingWeaponPoints = initialData.weapons[0] ? initialData.weapons[0].name : equipment[0].name;\n            setCurrent({name:startingWeapon,points:startingWeaponPoints});    \n        }else{\n            const firstModelPoints = parseInt(units[0].points);\n            updateUnit({qty:1, model:{name:units[0].name,points:firstModelPoints}, weapons:[],total:firstModelPoints});    \n            setCurrent({name:equipment[0].name,points:equipment[0].points});    \n        }\n    },[factionData]);\n\n\n\n    const genModData = (field)=>{\n        return (val)=>{\n            const clone = {...unitData};\n            clone[field] = val;\n            updateUnit(clone);\n        }\n    }\n\n    //where model is format name$$points because idk how to do this otherwise\n    const changeModel = (model)=>{\n        const [name,pointsTxt] = model.split(\"$$\");\n        const chosenModel = {name,points:parseInt(pointsTxt)}\n        genModData(\"model\")(chosenModel);\n    }\n\n    const changeCurrentEquip = useCallback((model)=>{\n        const [name,pointsTxt] = model.split(\"$$\");\n        const chosenEquip = {name,points:parseInt(pointsTxt)}\n        setCurrent(chosenEquip);\n    },[])\n\n    const addCurrentToWeapons = ()=>{\n       const clone = {...unitData};\n       const equipClone = [...clone.weapons];\n       const index = clone.weapons.findIndex((wep)=>wep.name === currentEquip.name);\n\n       if(index != -1){\n           //increment the old strip\n           equipClone[index].qty = equipClone[index].qty + 1;\n           clone.weapons = equipClone;\n       }else{\n           //create a new weapon strip\n           const currentClone = {...currentEquip, qty:1};\n           clone.weapons = equipClone.concat([currentClone]);\n       }\n\n       updateUnit(clone);\n    }\n\n\n    const genRemoveWeapon = (name)=>{\n        return ()=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            const index = equipClone.findIndex((wep)=>wep.name === name);\n\n            const withoutIndex = equipClone.filter((w,i)=>{\n                return i != index;\n            })\n\n            clone.weapons = withoutIndex;\n            updateUnit(clone);\n        }\n    }\n\n    function changeWeaponQty(name){\n        return (qty)=>{\n            const clone = {...unitData}\n            const equipClone = [...clone.weapons];\n            \n            const index = equipClone.findIndex((wep)=>{return wep.name === name});\n            \n            if(index != -1){\n                equipClone[index].qty = qty;            \n                clone.weapons = equipClone;\n                updateUnit(clone);\n            }\n        }\n    }\n\n    return (\n        <div className=\"unitCard\">\n        <UnitBox>\n           <CloseRow>\n               <Select value={unitData.model.name} style={{width:\"50%\"}} onChange={changeModel} showSearch>\n                   {units.map((unit)=>{\n                       return (<Option key={unit.name} value={`${unit.name}$$${unit.points}`} >\n                        {`${unit.name} - ${unit.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <InputNumber  value={unitData.qty} min={0} step={1} onChange={genModData(\"qty\")}/>\n           </CloseRow> \n           <CloseRow>\n               <Select value={currentEquip.name} style={{width:\"50%\"}} onChange={changeCurrentEquip} showSearch>\n                   {equipment.map((e)=>{\n                       return (<Option key={e.name} value={`${e.name}$$${e.points}`} >\n                        {`${e.name} - ${e.points}`}\n                       </Option>)\n                   })}\n               </Select>\n               <Button type=\"primary\" onClick={addCurrentToWeapons}>Add</Button>\n           </CloseRow>\n           {unitData.weapons.map((weapon)=>{\n               return <Equipment id={weapon.name} equipment={weapon} changeQuantity={changeWeaponQty(weapon.name)} selfDestruct={genRemoveWeapon(weapon.name)}/>\n           })}\n           <Row>\n                {`${total}pts`}\n                <Button className=\"showOnHover\" shape=\"circle\" type=\"danger\" icon={<DeleteOutlined/>} size=\"large\" onClick={()=>{selfDestruct(unitData)}}/> \n           </Row>\n        </UnitBox>\n        </div>\n    )\n}","import React, { useCallback, useEffect,useLayoutEffect } from 'react';\nimport {useState,useContext} from 'react';\nimport styled from 'styled-components';\nimport {Button} from 'antd';\nimport {PlusOutlined} from \"@ant-design/icons\";\nimport {Context} from \"../App\"\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Unit from \"./Unit\";\nimport { existsSync } from 'fs';\n\n\nconst Top = styled.div`\n    grid-row: 2/span 1;\n    background-color: white;\n    width:100%;\n    max-height: 100%;\n    position:relative;\n    padding: 2.5rem;\n\n    display:flex;\n    justify-content:flex-start;\n    align-items:flex-start;\n    flex-wrap:wrap;\n    overflow:auto;\n    \n    @media (max-width: 768px){\n        padding:1rem;\n    }\n`\n\nconst AddButton = styled.div`\n    position: absolute;\n    right:2.5rem;\n    bottom:2.5rem;\n`\n\nexport default function Main(){\n\n    const [units,setUnits] = useState([]);\n    const [idCount,setIdCount] = useState(1);\n    const {data,factionData,dispatch} = useContext(Context);\n\n    const addItem = (unit)=>{\n        setIdCount(idCount+1);\n        const newItem = {id:idCount,initialData:unit};\n        setUnits([...units, newItem]);\n    }\n    //load this component with the data it last had when closed\n    useLayoutEffect(()=>{\n        const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n        if(existingList.army){\n            const init = [];\n            existingList.army.forEach((unit,i)=>{\n                init.push({id:i, initialData:unit});\n            });\n            setUnits(init);\n            setIdCount(existingList.army.length+1);\n        }\n    },[])\n\n\n    const genDestroyItem = (id)=>{\n        return (unitToRemove)=>{\n            const newList = units.filter(unit=>unit.id !== id);\n            setUnits(newList);\n            dispatch({type:\"remove\", old:unitToRemove})\n        }\n    }\n\n        //const {dispatch} = Total;\n        //dispatch({type:\"add\", value:1});\n\n    const currentFaction = factionData.currentFaction || factionData.factionList[0];\n\n    return (\n        <>\n            <Header/> \n            <Top>\n                {data && data[currentFaction] && units.map((unit)=>{\n                    console.log(unit.id);\n                    return <Unit key={unit.id} initialData={unit.initialData} selfDestruct={genDestroyItem(unit.id)} factionData={data[currentFaction]}/>\n                })}\n            </Top>\n            <Footer addItem={addItem}/>\n        </>\n    )  \n}","import React,{useState,useEffect,useReducer} from 'react';\nimport './App.css';\nimport Main from \"./Components/Main\";\nimport styled from 'styled-components';\nimport { array } from 'prop-types';\n\nconst Context = React.createContext();\n\nconst All = styled.div`\n  width:100%;\n  height: 99.9vh;\n  display: grid;\n  grid-template-rows: 5rem 1fr 5rem;\n  grid-template-columns: 1fr;\n`\n\nconst reducer = function(army,action){\n\n  function removeUnit(toRemove){\n    let firstInstanceRemoved = false;\n    return army.filter((unit)=>{\n      if(firstInstanceRemoved){return true};\n      let isKept = true;\n      if(unit.qty === toRemove.qty && toRemove.model.name === unit.model.name){\n        const weaponsOnRemoved = toRemove.weapons;\n        const weaponsOnUnit = unit.weapons;\n        if(weaponsOnRemoved.length == weaponsOnUnit.length){\n          const diffWeapons = weaponsOnRemoved.filter(weaponOnRemoved=>{\n            return !weaponsOnUnit.find(weaponOnUnit=>weaponOnUnit.name === weaponOnRemoved.name);\n          });\n          \n          if(diffWeapons.length === 0){\n            isKept = false;\n          }\n\n        }\n      }\n      if(!isKept){firstInstanceRemoved = true};\n      return isKept;\n    })\n  }\n\n\n  const toRemove = action.old;\n  switch(action.type){\n    case \"update\":\n      return removeUnit(toRemove).concat(action.new);\n      break;\n    case \"remove\": \n      //deep comparison on qty, model, weapons\n      return removeUnit(toRemove); \n      break;\n  }\n  return \"error\";\n}\n\nfunction App() {\n\n  const [data,setData] = useState({});\n  const [army,dispatch] = useReducer(reducer,[]);\n  const [factions,setFactions] = useState({currentFaction: \"\", factionList:[]});\n\n\n  useEffect(()=>{\n    const existingList = JSON.parse(localStorage.getItem(\"ENLIST_ARMY_LIST\")); \n    console.log(existingList);\n    fetch('https://raw.githubusercontent.com/Brymo/Enlist/master/public/Data.json').then(v=>v.json()).then(data=>{\n      console.log(data);\n      setData(data);\n      const factionKeys = Object.keys(data); \n      setFactions({currentFaction:existingList.faction || factionKeys[0], factionList:factionKeys, factionSetter:setFactions});\n    });\n  },[])\n  \n\n  return (\n    <>\n      <Context.Provider value={{data,factionData:factions,army, dispatch }}>\n        <All>\n          <Main/>\n        </All>\n      </Context.Provider>\n    </>\n  );\n}\n\nexport default App;\nexport {Context};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}